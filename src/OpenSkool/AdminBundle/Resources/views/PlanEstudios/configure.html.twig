{% extends base_template %}

{% block navbar_title %}{{ admin.toString(object)|truncate(50) }}{% endblock %}

{% block actions %}
    <li>{% include 'SonataAdminBundle:Button:show_button.html.twig' %}</li>
    <li>{% include 'SonataAdminBundle:Button:edit_button.html.twig' %}</li>
    {#<li>{% include 'SonataAdminBundle:Button:history_button.html.twig' %}</li>#}
    <li>{% include 'SonataAdminBundle:Button:list_button.html.twig' %}</li>
    <li>{% include 'SonataAdminBundle:Button:create_button.html.twig' %}</li>
{% endblock %}

{% block tab_menu %}
    {{ knp_menu_render(admin.sidemenu(action), {
    'currentClass' : 'active',
    'template': admin_pool.getTemplate('tab_menu_template')
    }, 'twig') }}
{% endblock %}

{% block content %}

    {% embed '@OpenSkoolAdmin/tabs.html.twig' %}

        {% from '@OpenSkoolAdmin/tabs.html.twig' import tab, content %}
        {% use '@OpenSkoolAdmin/PlanEstudios/etapas.html.twig' %}

        {% block header -%}
            {{ tab('tab_etapas', 'Etapas', true) }}
            {{ tab('tab_grupos', 'Grupos') }}
        {%- endblock %}

        {% block body -%}

            {{ content('tab_etapas', block('etapas'), true) }}
            {{ content('tab_grupos', block('grupos')) }}

        {%- endblock %}

        {% block grupos %}
            Info de los grupos del sistema <b>Que bien</b>
        {% endblock %}

    {% endembed %}

    {% embed '@OpenSkoolAdmin/modal.html.twig' with {id: 'add-etapa-modal', show_close: true, size: 'sm'} %}
        {% block header %}Agregar Etapa{% endblock %}
        {% block content %}
            <div id="add-etapa-ajax"></div>{% endblock %}
    {% endembed %}

    <div id="data-ajax"></div>
{% endblock %}

{% use '@OpenSkoolAdmin/PlanEstudios/etapas.html.twig' with javascripts as etapas_js %}
{% block javascripts %}
    {{ parent() }}
    {{ block('etapas_js') }}
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .list-group-item.active { cursor: n-resize; }

        .list-group-item.inactive {
            /*cursor: no-drop;*/
            background-color: #F9F9F9;
            color: #999;
        }
    </style>
{% endblock %}
